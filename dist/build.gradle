plugins {
    id 'java'
    id 'application'
}

version '1.0-SNAPSHOT'

repositories {
    jcenter()
}

dependencies {
    implementation 'org.apache.zookeeper:zookeeper:3.6.2'

    implementation 'org.apache.logging.log4j:log4j-api:2.14.0'
    implementation 'org.apache.logging.log4j:log4j-core:2.14.0'

    implementation project(':task')
    testImplementation 'junit:junit:4.12'
}

task env_set(type: Exec){
    commandLine './build_server.sh'
}


task runsrvr(type: JavaExec){
    dependsOn env_set
    main = 'dist.DistProcess'
    classpath = files('./build/libs/dist-1.0-SNAPSHOT.jar') + files('../task/build/libs/task-1.0-SNAPSHOT.jar')
}

